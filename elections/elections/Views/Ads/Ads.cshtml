@model elections.Models.ElectionAdvertisement

@{
    ViewBag.Title = "الإعلانات";
}

@using (Html.BeginForm("Ads", "Ads", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <img src="https://cdn.vectorstock.com/i/preview-1x/62/91/ballot-box-with-voting-paper-jordan-vector-2016291.jpg" class="img-fluid mb-4" alt="صورة الإعلان" style="width:100%; height: auto; max-width: 1000px; max-height: auto;" />
            </div>
            <div class="col-md-6 col-lg-5">
                <fieldset class="form-container">
                    <legend>إعلان</legend>

                    <div class="form-horizontal">
                        <hr />
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                        <!-- National ID input -->
                        <div class="form-outline mb-4">
                            @Html.LabelFor(model => model.National_ID, "الرقم الوطني", new { @class = "form-label" })
                            @Html.EditorFor(model => model.National_ID, new { htmlAttributes = new { @class = "form-control", @type = "text" } })
                            @Html.ValidationMessageFor(model => model.National_ID, "", new { @class = "text-danger" })
                        </div>


                        <!-- List or Party Radio Buttons -->
                        <div class="mb-4">
                            <label class="form-label">قائمة محلية أو قائمة حزبية</label><br />
                            <input type="radio" id="list" name="ListOrParty" value="list" onclick="toggleCandidateInput(true)" required />
                            <label for="list">محلية</label>
                            <input type="radio" id="party" name="ListOrParty" value="party" onclick="toggleCandidateInput(false)" />
                            <label for="party">حزبية</label>
                        </div>

                        <!-- Name of List input (hidden by default) -->
                        <div class="form-outline mb-4" id="listNameDiv" style="display: none">
                            <label class="form-label" for="listName">اسم القائمة</label>
                            <input type="text" id="listName" name="List_Name" class="form-control" />
                        </div>

                        <!-- Name of Candidate input (optional) -->
                        <div class="form-outline mb-4" id="candidateNameDiv" style="display: none">
                            <label class="form-label" for="candidateName">اسم المرشح</label>
                            <input type="text" id="candidateName" name="Name" class="form-control" />
                        </div>

                        <!-- Name of Party input (hidden by default) -->
                        <div class="form-outline mb-4" id="partyNameDiv" style="display: none">
                            <label class="form-label" for="partyName">اسم الحزب</label>
                            <input type="text" id="partyName" name="Party_Name" class="form-control" />
                        </div>

                        <!-- Circle Name input (hidden by default) -->
                        <div class="form-outline mb-4" id="circleNameDiv" style="display: none">
                            <label class="form-label" for="circleName">اسم الدائرة</label>
                            <input type="text" id="circleName" name="Circle" class="form-control" />
                        </div>

                        <!-- Description input -->
                        <div class="form-outline mb-4">
                            @Html.LabelFor(model => model.Description, "الوصف", new { @class = "form-label" })
                            @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                        </div>

                        <!-- URL input -->
                        <div class="form-outline mb-4">
                            @Html.LabelFor(model => model.URL, "رابط الفيديو (يوتيوب)", new { @class = "form-label" })
                            @Html.EditorFor(model => model.URL, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.URL, "", new { @class = "text-danger" })
                        </div>


                        <!-- Hidden plan input -->
                        @Html.Hidden("plan", (string)ViewBag.Plan)

                        <!-- Hidden amount input -->
                        @Html.Hidden("amount", (decimal)ViewBag.Amount)

                        <!-- Submit button -->
                        <button type="submit" class="btn btn-primary btn-block mb-4">تقديم الإعلان</button>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<script>
    function toggleCandidateInput(isList) {
        const listNameDiv = document.getElementById("listNameDiv");
        const candidateNameDiv = document.getElementById("candidateNameDiv");
        const partyNameDiv = document.getElementById("partyNameDiv");
        const circleNameDiv = document.getElementById("circleNameDiv");

        if (isList) {
            listNameDiv.style.display = "block";
            candidateNameDiv.style.display = "block";
            partyNameDiv.style.display = "none";
            circleNameDiv.style.display = "block";
            document.getElementById("listName").required = true;
            document.getElementById("partyName").required = false;
        } else {
            listNameDiv.style.display = "none";
            candidateNameDiv.style.display = "none";
            partyNameDiv.style.display = "block";
            circleNameDiv.style.display = "none";
            document.getElementById("listName").required = false;
            document.getElementById("partyName").required = true;
        }
    }
</script>

<style>
    .form-container {
        border: 2px solid #ccc;
        padding: 15px;
        border-radius: 5px;
        position: relative;
        margin-top: 20px;
    }

        .form-container legend {
            font-size: 1.25em;
            font-weight: bold;
            padding: 0 10px;
            width: auto;
            margin-bottom: 0;
            border: none;
            background: white;
            position: absolute;
            top: -20px;
            left: 15px;
        }

    .img-fluid {
        max-width: 100%;
        height: auto;
    }
</style>
